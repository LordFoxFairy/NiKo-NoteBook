<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 600">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#dc2626" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="350" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#1f2937">
    SMO 算法：坐标下降的智慧
  </text>
  <text x="350" y="50" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#6b7280">
    在约束直线上优化两个变量
  </text>

  <!-- Coordinate axes -->
  <line x1="80" y1="500" x2="650" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="80" y1="500" x2="80" y2="80" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <text x="665" y="505" font-family="Arial, sans-serif" font-size="14" fill="#333">α₁</text>
  <text x="65" y="75" font-family="Arial, sans-serif" font-size="14" fill="#333">α₂</text>

  <!-- Axis labels -->
  <text x="80" y="525" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">0</text>
  <text x="250" y="525" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">C/2</text>
  <text x="425" y="525" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">C</text>
  <text x="55" y="505" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">0</text>
  <text x="50" y="330" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">C/2</text>
  <text x="55" y="155" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">C</text>

  <!-- Box constraint region -->
  <rect x="80" y="150" width="350" height="350" fill="#dbeafe" opacity="0.3" stroke="none"/>
  <text x="420" y="165" font-family="Arial, sans-serif" font-size="11" fill="#3b82f6">可行域:</text>
  <text x="420" y="180" font-family="Arial, sans-serif" font-size="11" fill="#3b82f6">0 ≤ α₁ ≤ C</text>
  <text x="420" y="195" font-family="Arial, sans-serif" font-size="11" fill="#3b82f6">0 ≤ α₂ ≤ C</text>

  <!-- Contour lines (ellipses) representing objective function -->
  <ellipse cx="280" cy="280" rx="200" ry="140" fill="none" stroke="#a78bfa" stroke-width="2" opacity="0.6"/>
  <ellipse cx="280" cy="280" rx="150" ry="105" fill="none" stroke="#a78bfa" stroke-width="2" opacity="0.7"/>
  <ellipse cx="280" cy="280" rx="100" ry="70" fill="none" stroke="#a78bfa" stroke-width="2.5" opacity="0.8"/>
  <ellipse cx="280" cy="280" rx="50" ry="35" fill="none" stroke="#7c3aed" stroke-width="3" opacity="0.9"/>

  <!-- Optimal point -->
  <circle cx="280" cy="280" r="6" fill="#7c3aed" stroke="#5b21b6" stroke-width="2"/>
  <text x="290" y="275" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#7c3aed">最优点</text>

  <!-- Constraint line: α₁y₁ + α₂y₂ = const (example: y₁ = +1, y₂ = -1) -->
  <line x1="120" y1="150" x2="430" y2="460" stroke="#dc2626" stroke-width="3" stroke-dasharray="8,4"/>
  <text x="450" y="470" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#dc2626">约束直线</text>
  <text x="450" y="487" font-family="Arial, sans-serif" font-size="11" fill="#dc2626">α₁y₁ + α₂y₂ = ζ</text>

  <!-- Optimization path on the constraint line -->
  <!-- Starting point -->
  <circle cx="160" cy="190" r="7" fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
  <text x="125" y="185" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f59e0b">起点</text>

  <!-- Intermediate points -->
  <circle cx="200" cy="230" r="5" fill="#fbbf24" stroke="#d97706" stroke-width="1.5"/>
  <circle cx="240" cy="270" r="5" fill="#fbbf24" stroke="#d97706" stroke-width="1.5"/>
  <circle cx="280" cy="310" r="5" fill="#fbbf24" stroke="#d97706" stroke-width="1.5"/>

  <!-- Final point (on constraint line, closest to optimal) -->
  <circle cx="300" cy="330" r="7" fill="#16a34a" stroke="#15803d" stroke-width="2"/>
  <text x="310" y="335" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#16a34a">收敛点</text>

  <!-- Path arrows -->
  <path d="M 167,195 L 195,225" stroke="#f59e0b" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-red)"/>
  <path d="M 205,235 L 235,265" stroke="#f59e0b" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-red)"/>
  <path d="M 245,275 L 275,305" stroke="#f59e0b" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-red)"/>
  <path d="M 285,315 L 295,325" stroke="#16a34a" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-red)"/>

  <!-- Annotations -->
  <g id="annotation1">
    <rect x="470" y="240" width="210" height="140" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="575" y="260" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#92400e">
      SMO 的核心思想
    </text>
    <text x="480" y="280" font-family="Arial, sans-serif" font-size="11" fill="#78350f">
      • 目标函数等高线 (紫色椭圆)
    </text>
    <text x="480" y="300" font-family="Arial, sans-serif" font-size="11" fill="#78350f">
      • 约束 Σα_i·y_i = 0 形成直线
    </text>
    <text x="480" y="320" font-family="Arial, sans-serif" font-size="11" fill="#78350f">
      • 优化路径<tspan font-weight="bold">必须在直线上</tspan>
    </text>
    <text x="480" y="340" font-family="Arial, sans-serif" font-size="11" fill="#78350f">
      • 每次迭代沿直线移动
    </text>
    <text x="480" y="360" font-family="Arial, sans-serif" font-size="11" fill="#78350f">
      • 找到与最优点最近的位置
    </text>
  </g>

  <!-- Bottom explanation -->
  <g>
    <rect x="50" y="530" width="600" height="50" fill="#f0fdf4" stroke="#16a34a" stroke-width="1.5" rx="5"/>
    <text x="350" y="550" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#15803d">
      <tspan font-weight="bold">为什么每次优化两个变量？</tspan>
    </text>
    <text x="350" y="567" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#166534">
      约束 Σα_i·y_i = 0 是等式约束，单独改变一个 α 会违反约束。改变两个是满足约束的最小单位，
    </text>
  </g>

  <!-- Legend for contours -->
  <text x="100" y="125" font-family="Arial, sans-serif" font-size="11" fill="#7c3aed">目标函数等高线</text>
  <text x="100" y="140" font-family="Arial, sans-serif" font-size="10" fill="#6b7280">(越靠内越优)</text>
</svg>

<svg viewBox="0 0 1200 500" xmlns="http://www.w3.org/2000/svg" style="background-color: white; font-family: 'Times New Roman', serif;">
    <defs>
        <marker id="arrow-grey" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <path d="M0,0 L0,6 L9,3 z" fill="#9ca3af" />
        </marker>
        <marker id="arrow-yellow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <path d="M0,0 L0,6 L9,3 z" fill="#d97706" />
        </marker>
        <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <path d="M0,0 L0,6 L9,3 z" fill="#059669" />
        </marker>
        <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <path d="M0,0 L0,6 L9,3 z" fill="#dc2626" />
        </marker>
    </defs>

    <!-- ================= SUBPLOT 1: The Mistake (犯错) ================= -->
    <g transform="translate(0, 0)">
        <!-- 背景框 -->
        <rect x="10" y="10" width="380" height="480" fill="#fef2f2" rx="15" stroke="#fee2e2" stroke-width="2"/>
        <text x="200" y="60" fill="#dc2626" text-anchor="middle" font-family="sans-serif" font-weight="bold" font-size="24">Step 1: The Mistake</text>

        <!-- 坐标系中心 (200, 280) -->
        <g transform="translate(200, 280)">
            <!-- 坐标轴 -->
            <line x1="-160" y1="0" x2="160" y2="0" stroke="#d1d5db" stroke-width="2"/>
            <line x1="0" y1="140" x2="0" y2="-160" stroke="#d1d5db" stroke-width="2"/>
            <text x="-25" y="25" font-size="16" fill="#6b7280" font-weight="bold">O</text>

            <!-- 向量数据设定：
                    x = (80, -60) [右上]
                    w_old = (-100, -20) [左上, 钝角]
                    旧超平面垂直于 w_old
            -->

            <!-- w_old (Grey) -->
            <line x1="0" y1="0" x2="-100" y2="-20" stroke="#9ca3af" stroke-width="5" marker-end="url(#arrow-grey)"/>
            <text x="-140" y="-30" font-size="22" font-weight="bold" fill="#6b7280" font-style="italic">w_old</text>

            <!-- x (Red) - 位置固定！ -->
            <line x1="0" y1="0" x2="80" y2="-60" stroke="#fecaca" stroke-width="3" stroke-dasharray="6,4"/>
            <circle cx="80" cy="-60" r="8" fill="#dc2626" stroke="white" stroke-width="2"/>
            <text x="95" y="-65" font-size="24" font-weight="bold" fill="#dc2626" font-style="italic">x</text>
            <text x="95" y="-40" font-size="18" fill="#dc2626" font-family="sans-serif">(y=+1)</text>

            <!-- 钝角指示 -->
            <path d="M-40,-8 A 50 50 0 0 1 30 -22" fill="none" stroke="#dc2626" stroke-width="2"/>
            <text x="-10" y="-45" font-size="18" fill="#dc2626" font-weight="bold" text-anchor="middle" font-family="sans-serif">钝角</text>

            <!-- 旧超平面 (误分边界) -->
            <!-- w = (-100, -20), slope = 1/5. Normal slope = -5 (陡峭) -->
            <line x1="-25" y1="125" x2="30" y2="-150" stroke="#9ca3af" stroke-width="3" stroke-dasharray="8,4" opacity="0.6"/>
            <text x="-100" y="120" font-size="16" fill="#6b7280" font-weight="bold" font-family="sans-serif">旧超平面</text>
            <text x="40" y="100" font-size="14" fill="#dc2626" font-family="sans-serif">x 在下方 (误分)</text>
        </g>
    </g>


    <!-- ================= SUBPLOT 2: The Correction (纠正) ================= -->
    <g transform="translate(400, 0)">
        <!-- 背景框 -->
        <rect x="10" y="10" width="380" height="480" fill="#fffbeb" rx="15" stroke="#fef3c7" stroke-width="2"/>
        <text x="200" y="60" fill="#d97706" text-anchor="middle" font-family="sans-serif" font-weight="bold" font-size="24">Step 2: Vector Pull</text>

        <g transform="translate(200, 280)">
            <!-- 坐标轴 -->
            <line x1="-160" y1="0" x2="160" y2="0" stroke="#e5e7eb" stroke-width="2"/>
            <line x1="0" y1="140" x2="0" y2="-160" stroke="#e5e7eb" stroke-width="2"/>

            <!-- w_old (Grey) - 保持不动 -->
            <line x1="0" y1="0" x2="-100" y2="-20" stroke="#d1d5db" stroke-width="4" marker-end="url(#arrow-grey)"/>
            <text x="-130" y="-10" font-size="18" fill="#9ca3af" font-style="italic">w_old</text>

            <!-- Vector Addition: eta * x -->
            <!-- Start from tip of w_old (-100, -20). Add vector (80, -60). End at (-20, -80) -->
            <line x1="-100" y1="-20" x2="-20" y2="-80" stroke="#d97706" stroke-width="5" marker-end="url(#arrow-yellow)"/>

            <!-- 拉扯力标注 -->
            <text x="-15" y="-95" font-size="22" font-weight="bold" fill="#d97706" font-style="italic">η·x</text>
            <text x="-100" y="-100" font-size="16" fill="#b45309" font-weight="bold" font-family="sans-serif">往 x 方向拉!</text>

            <!-- 平行辅助线 (证明它是 x) -->
            <line x1="80" y1="-60" x2="-20" y2="-80" stroke="#d97706" stroke-width="1" stroke-dasharray="2,2" opacity="0.4"/>

            <!-- x (Ghost) - 位置完全没变 -->
            <circle cx="80" cy="-60" r="6" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.3"/>
            <text x="90" y="-60" font-size="18" fill="#dc2626" opacity="0.3" font-style="italic">x</text>
        </g>
    </g>


    <!-- ================= SUBPLOT 3: The Result (结果) ================= -->
    <g transform="translate(800, 0)">
        <!-- 背景框 -->
        <rect x="10" y="10" width="380" height="480" fill="#ecfdf5" rx="15" stroke="#d1fae5" stroke-width="2"/>
        <text x="200" y="60" fill="#059669" text-anchor="middle" font-family="sans-serif" font-weight="bold" font-size="24">Step 3: The Result</text>

        <g transform="translate(200, 280)">
            <!-- 坐标轴 -->
            <line x1="-160" y1="0" x2="160" y2="0" stroke="#e5e7eb" stroke-width="2"/>
            <line x1="0" y1="140" x2="0" y2="-160" stroke="#e5e7eb" stroke-width="2"/>

            <!-- w_new (Green) -->
            <!-- Result of (-100, -20) + (80, -60) = (-20, -80) -->
            <line x1="0" y1="0" x2="-20" y2="-80" stroke="#059669" stroke-width="6" marker-end="url(#arrow-green)"/>
            <text x="-60" y="-90" font-size="24" font-weight="bold" fill="#059669" font-style="italic">w_new</text>

            <!-- x (Red) - 位置完全没变 -->
            <line x1="0" y1="0" x2="80" y2="-60" stroke="#fecaca" stroke-width="3" stroke-dasharray="6,4"/>
            <circle cx="80" cy="-60" r="8" fill="#dc2626" stroke="white" stroke-width="2"/>
            <text x="95" y="-65" font-size="24" font-weight="bold" fill="#dc2626" font-style="italic">x</text>

            <!-- 锐角指示 -->
            <path d="M-8,-30 A 60 60 0 0 1 20 -15" fill="none" stroke="#059669" stroke-width="2"/>
            <text x="25" y="-25" font-size="18" fill="#059669" font-weight="bold" font-family="sans-serif">锐角</text>

            <!-- 新超平面 (绿色实线) -->
            <!-- w_new slope = 4. Plane slope = -0.25 (平缓) -->
            <line x1="-160" y1="40" x2="160" y2="-40" stroke="#059669" stroke-width="3" />
            <text x="100" y="-15" font-size="16" fill="#059669" font-weight="bold" font-family="sans-serif">新超平面</text>

            <!-- 旧超平面 (灰色虚线，对比) -->
            <line x1="-25" y1="125" x2="30" y2="-150" stroke="#9ca3af" stroke-width="2" stroke-dasharray="4,4" opacity="0.3"/>

            <!-- 旋转箭头 -->
            <path d="M-15,100 Q -60,80 -100,30" fill="none" stroke="#059669" stroke-width="2" marker-end="url(#arrow-green)"/>
            <text x="-120" y="80" font-size="14" fill="#059669" font-weight="bold" font-family="sans-serif">旋转!</text>
        </g>
    </g>

</svg>